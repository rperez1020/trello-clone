{"version":3,"sources":["utils/addGlobalEventListener.js","dragAndDrop.js","script.js"],"names":["addGlobalEventListener","type","selector","callback","document","addEventListener","e","target","matches","_addGlobalEventListener","_interopRequireDefault","require","obj","__esModule","default","setup","selectedItem","itemClone","cloneNode","ghost","offset","setupDragItems","setupDragEvents","originalRect","getBoundingClientRect","x","clientX","left","y","clientY","top","classList","add","style","width","concat","positionClone","body","append","height","innerHTML","parentElement","insertBefore","mouseMoveFunction","dropZone","getDropZone","removeEventListener","stopDrag","once","mousePosition","remove","element","closest","_dragAndDrop"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["export default function addGlobalEventListener(type,selector,callback){\r\n    document.addEventListener(type, e => {\r\n        if(e.target.matches(selector)) callback(e)\r\n    })\r\n}","import addGlobalEventListener from \"./utils/addGlobalEventListener.js\"\r\n\r\nexport default function setup(){\r\n\r\n    addGlobalEventListener('mousedown', '[data-draggable]', e => {\r\n        const selectedItem = e.target\r\n        const itemClone = selectedItem.cloneNode(true)\r\n        const ghost = selectedItem.cloneNode()\r\n        const offset = setupDragItems(selectedItem, itemClone,ghost,e)\r\n        setupDragEvents(selectedItem, itemClone,ghost, offset)\r\n\r\n    })\r\n}\r\n\r\nfunction setupDragItems(selectedItem, itemClone, ghost, e){\r\n    const originalRect = selectedItem.getBoundingClientRect()\r\n    const offset = {\r\n        x: e.clientX - originalRect.left,\r\n        y: e.clientY - originalRect.top\r\n    }\r\n\r\n    selectedItem.classList.add(\"hide\")\r\n\r\n    itemClone.style.width = `${originalRect.width}px`\r\n    itemClone.classList.add('dragging')\r\n    positionClone(itemClone,e, offset)\r\n    document.body.append(itemClone)\r\n\r\n    ghost.style.height = `${originalRect.height}px`\r\n    ghost.classList.add('ghost')\r\n    ghost.innerHTML = ''\r\n    selectedItem.parentElement.insertBefore(ghost,selectedItem)\r\n\r\n    return offset\r\n}\r\n\r\nfunction setupDragEvents(selectedItem, itemClone, ghost, offset){\r\n    const mouseMoveFunction = e => {\r\n        const dropZone = getDropZone(e.target)\r\n        positionClone(itemClone,e, offset)\r\n        if(dropZone == null) return\r\n        dropZone.append(ghost)\r\n    }\r\n\r\n    document.addEventListener(\"mousemove\", mouseMoveFunction)\r\n    document.addEventListener(\"mouseup\", ()=>{\r\n        document.removeEventListener(\"mousemove\", mouseMoveFunction)\r\n        stopDrag(selectedItem, itemClone, ghost)\r\n\r\n    },{once:true})\r\n}\r\n\r\nfunction positionClone(itemClone, mousePosition, offset){\r\n    itemClone.style.top = `${mousePosition.clientY - offset.y}px`\r\n    itemClone.style.left = `${mousePosition.clientX - offset.x}px`\r\n\r\n}\r\n\r\nfunction stopDrag(selectedItem, itemClone, ghost){\r\n    selectedItem.classList.remove(\"hide\")\r\n    itemClone.remove()\r\n    ghost.remove()\r\n}\r\n\r\nfunction getDropZone(element){\r\n    if(element.matches('[data-drop-zone]')){\r\n        return element\r\n    }else{\r\n        return element.closest(\"[data-drop-zone]\")\r\n    }\r\n}","import setup from \"./dragAndDrop.js\"\r\n\r\nsetup()"]}